<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>u4e06_test_David_Palomero</title>
    <style>
        .correcto,
        .incorrecto {
            display: none;
            width: 20px;
            height: 20px;
            vertical-align: middle;
            margin-left: 5px;
        }
    </style>
</head>

<body>
    <h1>Test de Rick and Morty</h1>
    <form>
        <fieldset id="pregunta0">
            <legend>Pregunta 1. ¿Quién dispara a Poopy Butthole?</legend>
            <input type="radio" name="p1" id="p0o1">
            <label for="p0o1">Beth<img alt="imagen" src="img/correcto.png" class="correcto"></label><br>
            <input type="radio" name="p1" id="p0o2">
            <label for="p0o2">Rick<img alt="imagen" src="img/incorrecto.png" class="incorrecto"></label><br>
            <input type="radio" name="p1" id="p0o3">
            <label for="p0o3">Jerry<img alt="imagen" src="img/incorrecto.png" class="incorrecto"></label>
        </fieldset>
        <fieldset id="pregunta1">
            <legend>Pregunta 2. ¿Cuál es el objeto que el Demonio le da a Rick?</legend>
            <input type="radio" name="p2" id="p1o1">
            <label for="p1o1">Un aftershave que te hace irresistible a las mujeres pero te hace ser
                impotente<img alt="imagen" src="img/incorrecto.png" class="incorrecto"></label><br>
            <input type="radio" name="p2" id="p1o2">
            <label for="p1o2">Un microscopio que muestra cosas más allá de la comprensión pero te convierte en
                retrasado<img alt="imagen" src="img/correcto.png" class="correcto"></label><br>
            <input type="radio" name="p2" id="p1o3">
            <label for="p1o3">Una bufanda de zorro que en 3 horas habria llevado de bufanda a su dueño<img alt="imagen"
                    src="img/incorrecto.png" class="incorrecto"></label>
        </fieldset>
        <fieldset id="pregunta2">
            <legend>Pregunta 3. ¿Qué tiene que hacer Jerry para que todos los Mr. Meeseeks desaparezcan?</legend>
            <input type="radio" name="p3" id="p2o1">
            <label for="p2o1">Admitir que se equivoca<img alt="imagen" src="img/incorrecto.png"
                    class="incorrecto"></label><br>
            <input type="radio" name="p3" id="p2o2">
            <label for="p2o2">Abrir un tarro<img alt="imagen" src="img/incorrecto.png" class="incorrecto"></label><br>
            <input type="radio" name="p3" id="p2o3">
            <label for="p2o3">Mejorar su golpe de golf<img alt="imagen" src="img/correcto.png" class="correcto"></label>
        </fieldset>
        <fieldset id="pregunta3">
            <legend>Pregunta 4. ¿Cuál era el nombre de esclavo del perro de Morty?</legend>
            <input type="radio" name="p4" id="p3o1">
            <label for="p3o1">Snuffles<img alt="imagen" src="img/correcto.png" class="correcto"></label><br>
            <input type="radio" name="p4" id="p3o2">
            <label for="p3o2">Snowball<img alt="imagen" src="img/incorrecto.png" class="incorrecto"></label><br>
            <input type="radio" name="p4" id="p3o3">
            <label for="p3o3">Snifler<img alt="imagen" src="img/incorrecto.png" class="incorrecto"></label>
        </fieldset>
        <fieldset id="pregunta4">
            <legend>Pregunta 5. ¿Cuál es la atracción favorita de Rick en el Anatomy Park?</legend>
            <input type="radio" name="p5" id="p4o1">
            <label for="p4o1">El Higado Embrujado<img alt="imagen" src="img/incorrecto.png"
                    class="incorrecto"></label><br>
            <input type="radio" name="p5" id="p4o2">
            <label for="p4o2">Piratas del Páncreas<img alt="imagen" src="img/correcto.png" class="correcto"></label><br>
            <input type="radio" name="p5" id="p4o3">
            <label for="p4o3">La Montaña Brazo<img alt="imagen" src="img/incorrecto.png" class="incorrecto"></label>
        </fieldset>
        <fieldset id="pregunta5">
            <legend>Pregunta 6. Según Tammy, ¿qué es lo que comen las mujeres de la tierra?</legend>
            <input type="radio" name="p6" id="p5o1">
            <label for="p5o1">Pene de pájaro<img alt="imagen" src="img/correcto.png" class="correcto"></label><br>
            <input type="radio" name="p6" id="p5o2">
            <label for="p5o2">Alpiste<img alt="imagen" src="img/incorrecto.png" class="incorrecto"></label><br>
            <input type="radio" name="p6" id="p5o3">
            <label for="p5o3">Lombrices con cereales<img alt="imagen" src="img/incorrecto.png"
                    class="incorrecto"></label>
        </fieldset>
        <fieldset id="pregunta6">
            <legend>Pregunta 7. En el último capítulo de la segunda temporada, ¿Cuál es el problema del tercer planeta
                que visitan buscando un nuevo hogar? </legend>
            <input type="radio" name="p7" id="p6o1">
            <label for="p6o1">Que es demasiado pequeño<img alt="imagen" src="img/incorrecto.png"
                    class="incorrecto"></label><br>
            <input type="radio" name="p7" id="p6o2">
            <label for="p6o2">Que el sol grita y los dias duran mas de 40 horas<img alt="imagen" src="img/correcto.png"
                    class="correcto"></label><br>
            <input type="radio" name="p7" id="p6o3">
            <label for="p6o3">Que todo son culos gigantes tirandose pedos<img alt="imagen" src="img/incorrecto.png"
                    class="incorrecto"></label>
        </fieldset>
        <fieldset id="pregunta7">
            <legend>Pregunta 8. ¿Cómo se llama el parásito alienígena con el que Rick tuvo una relación en el pasado?
            </legend>
            <input type="radio" name="p8" id="p7o1">
            <label for="p7o1">Unity<img alt="imagen" src="img/correcto.png" class="correcto"></label><br>
            <input type="radio" name="p8" id="p7o2">
            <label for="p7o2">Eternity<img alt="imagen" src="img/incorrecto.png" class="incorrecto"></label><br>
            <input type="radio" name="p8" id="p7o3">
            <label for="p7o3">Melisa<img alt="imagen" src="img/incorrecto.png" class="incorrecto"></label>
        </fieldset>
        <fieldset id="pregunta8">
            <legend>Pregunta 9. ¿Qué significa la frase "Wubba lubba dub dub"?</legend>
            <input type="radio" name="p9" id="p8o1">
            <label for="p8o1">Que comience la fiesta<img alt="imagen" src="img/incorrecto.png"
                    class="incorrecto"></label><br>
            <input type="radio" name="p9" id="p8o2">
            <label for="p8o2">¡zaska!<img alt="imagen" src="img/incorrecto.png" class="incorrecto"></label><br>
            <input type="radio" name="p9" id="p8o3">
            <label for="p8o3">Estoy sufriendo, por favor ayúdame<img alt="imagen" src="img/correcto.png"
                    class="correcto"></label>
        </fieldset>
        <fieldset id="pregunta9">
            <legend>Pregunta 10. ¿Qué parte del cuerpo de Jerry puede salvarle la vida a un popular líder alienígena?
            </legend>
            <input type="radio" name="p10" id="p9o1">
            <label for="p9o1">Su corazon<img alt="imagen" src="img/incorrecto.png" class="incorrecto"></label><br>
            <input type="radio" name="p10" id="p9o2">
            <label for="p9o2">Su pene<img alt="imagen" src="img/correcto.png" class="correcto"></label><br>
            <input type="radio" name="p10" id="p9o3">
            <label for="p9o3">Sus orejas<img alt="imagen" src="img/incorrecto.png" class="incorrecto"></label>
        </fieldset>
        <input type="submit" value="Enviar" id="enviar">
    </form>
    <textarea name="respuestas" id="respuestas" cols="30" rows="10"></textarea>
    <script>
        document.getElementById("enviar").addEventListener("click", validar);

        function validar(e) {
            e.preventDefault();

            var preguntas = document.querySelectorAll("fieldset");
            var contestadas = 0;

            preguntas.forEach(function (x) {
                var opciones = x.querySelectorAll("input");
                var marcado = false;

                opciones.forEach(function (z) {
                    var idOpcion = z.id;
                    if (z.checked) {
                        contestadas++;
                        marcado = true;
                    }
                });

                if (!marcado) {
                    x.querySelector("legend").style.backgroundColor = "red";
                } else {
                    x.querySelector("legend").style.backgroundColor = "white";
                }
            });

            if (contestadas == 10) {
                var opciones = document.querySelectorAll("input");
                var correctas = 0

                opciones.forEach(function (z) {
                    var idOpcion = z.id;
                    if (z.checked) {
                        contestadas++;
                        marcado = true;
                        document.querySelector("label[for='" + idOpcion + "']>img").style.display =
                            "inline-block";
                        correctas = document.querySelectorAll("label[for='" + idOpcion + "']>img.correcto")
                            .length;
                    } else {
                        document.querySelector("label[for='" + idOpcion + "']>img").style.display = "none";
                    }
                });

                document.querySelector("textarea").textContent = "Has acertado " + correctas + " de 10 preguntas";
            } else {
                alert("Debes contestar todas las preguntas");
            }
        }
    </script>
</body>

</html>