<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>u3e11_dni_David_Palomero</title>
</head>

<body>
    <script>
        var dni = prompt("Introduzca el DNI o NIE").trim();

        document.write(dniValido(dni));
        function dniValido(dni) {
            var letras = ["T", "R", "W", "A", "G", "M", "Y", "F", "P", "D", "X", "B", "N", "J", "Z", "S", "Q", "V", "H", "L", "C", "K", "E"];
            var letra = dni.charAt(dni.length-1);

            if (dni.charAt(0) == "X"){
                dni = "0" + dni.substr(1, 8);
            } else if (dni.charAt(0) == "Y") {
                dni = "1" + dni.substr(1, 8);
            } else if (dni.charAt(0) == "Z") {
                dni = "2" + dni.substr(1, 8);
            } else {
                dni = dni.substr(0, 8);
            }

            var resto = dni%23;
            if (letra == letras[resto]) {
                return "El DNI o NIE es valido";
            } else {
                return "El DNI o NIE no es valido";
            }
        }
    </script>
</body>

</html>